import{C as m,S as u,P as k,s as v}from"./Pagination.54b5cf34.js";import{_,r as a,o as i,c as n,b as e,a as d,F as f,d as S}from"./index.adac60c0.js";const w={components:{Card:m,Search:u,Pagination:k},data:()=>({stickers:[],loading:!0,searchVal:"naruto",limit:9,offset:0,total:0,next:!0,prev:!1}),created(){this.getStickers()},methods:{async getStickers(t=this.searchVal){if(!t.trim()){v.fire({title:"Invalid search",icon:"error",showConfirmButton:!1,timer:3e3,timerProgressBar:!0});return}this.searchVal!=t&&(this.searchVal=t,this.offset=0),this.loading=!0;const o=await fetch(`https://api.giphy.com/v1/stickers/search?api_key=PVJXvwcGkEPXBIJI3MVfjQnoeLwgJXF0&q=${t}&offset=${this.offset}&limit=${this.limit}`),{data:r,pagination:l}=await o.json();this.stickers=r,this.total=l.total_count,this.total<this.limit&&(this.next=!1),setTimeout(()=>{this.loading=!1},200)},async paginate(t=!0){this.loading||!t&&!this.offset||t&&this.total<=this.offset||(t?this.offset+=this.limit:this.offset-=this.limit,await this.getStickers(),this.next=this.offset+this.limit<this.total,this.prev=this.offset>0)}}},P=d("h1",null,"Search Stickers",-1),V={class:"row"};function B(t,o,r,l,y,s){const g=a("search"),c=a("pagination"),p=a("card");return i(),n(f,null,[P,e(g,{onSearch:s.getStickers},null,8,["onSearch"]),e(c,{prev:t.prev,next:t.next,loading:t.loading,onPaginate:s.paginate},null,8,["prev","next","loading","onPaginate"]),d("div",V,[(i(!0),n(f,null,S(t.stickers,h=>(i(),n("div",{key:h.id,class:"col-12 col-md-4 g-3"},[e(p,{data:h},null,8,["data"])]))),128))]),e(c,{prev:t.prev,next:t.next,loading:t.loading,onPaginate:s.paginate},null,8,["prev","next","loading","onPaginate"])],64)}const x=_(w,[["render",B]]);export{x as default};
